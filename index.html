<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RockPaperScizors</title>
</head>
<body>
    
    <script>
        
        let score_player = 0;
        let score_comp = 0;

        function getComputerChoice(){
            const options = ["rock", "paper", "scizors"];
            let num = Math.floor(Math.random() * options.length);
            return (options[num]);
        }

        function getPlayerChoice(){
            let choice = prompt("Choose your option: rock, papers or scizors");
            choice = choice.toLowerCase();
            return choice;
        }

        function playRound(playerSelection, computerSelection) {
            if (playerSelection === computerSelection) {
                scoreLog();
                return ("It's a draw! Both players chose " + playerSelection + "!");
            }
            else if (playerSelection === "rock" && computerSelection === "scizors"||
                     playerSelection === "paper" && computerSelection === "rock" ||
                     playerSelection === "scizors" && computerSelection === "paper") {
                score_player++;
                scoreLog();
                return (playerSelection + " beats " + computerSelection + "! Congratulations, you win!");
            }
            else {
                score_comp++;
                scoreLog();                
                return (computerSelection + " beats " + playerSelection + "! You lose.");
            }
        }

        function scoreLog() {
            console.log("Player: " + score_player);
            console.log("Computer: " + score_comp);
        }

        function finalLog() {
            console.log("FINAL SCORE: PLAYER = " + score_player + " WINS!   computer = " + score_comp + " wins.");
            if (score_player > score_comp) {
                console.log("CONGRATULATIONS! YOU WON THE GAME!");
            }
            else if (score_player === score_comp) {
                console.log("It's a draw... try one more time...");
            }
            else {
                console.log("You lost. Better luck next time.");
            }
        }

        function game(){
            for(let i = 0; i < 5; i++){
                const playerSelection = getPlayerChoice();
                const computerSelection = getComputerChoice();
                console.log(playRound(playerSelection, computerSelection));
            }
            finalLog();            
        }

        game();

    </script>
    
</body>
</html>